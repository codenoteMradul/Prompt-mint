<div class="mb-8">
  <div class="flex items-start justify-between gap-4">
    <div>
      <h1 class="text-2xl font-semibold tracking-tight text-white">Dashboard</h1>
      <p class="mt-1 text-sm text-slate-400">Discover premium bundles. Unlock complete workflows, fast.</p>
    </div>
  </div>

  <div class="mt-6" data-controller="prompt-filter">
    <div class="flex flex-wrap gap-2">
      <button type="button" class="rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm text-slate-200 hover:bg-white/10 transition-all duration-300" data-action="prompt-filter#showAll" data-prompt-filter-target="pill">
        All
      </button>
      <% Bundle.categories.keys.each do |category| %>
        <button
          type="button"
          class="rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm text-slate-200 hover:bg-white/10 transition-all duration-300"
          data-action="prompt-filter#filter"
          data-category="<%= category %>"
          data-prompt-filter-target="pill"
        >
          <%= category.titleize %>
        </button>
      <% end %>
    </div>

    <div class="mt-6 flex items-center justify-between">
      <h2 class="text-sm font-semibold tracking-wide text-white">Bundles</h2>
    </div>

    <div class="mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3">
      <% @bundles.each do |bundle| %>
        <% owner = bundle.user_id == current_user.id %>
        <% unlocked = owner || @purchased_bundle_ids.include?(bundle.id) %>
        <%= render "shared/bundle_card", bundle:, unlocked:, owner: %>
      <% end %>
    </div>
  </div>
</div>
