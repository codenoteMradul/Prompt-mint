<section class="mb-8">
  <div class="rounded-3xl border border-white/10 bg-white/[0.04] p-8 shadow-[0_0_0_1px_rgba(255,255,255,0.03)] backdrop-blur">
    <div class="flex flex-col gap-6 sm:flex-row sm:items-end sm:justify-between">
      <div>
        <p class="text-xs font-medium tracking-wide text-slate-400">Seller profile</p>
        <h1 class="mt-2 text-3xl font-semibold tracking-tight text-white sm:text-4xl"><%= @user.name %></h1>
        <% if logged_in? && current_user.id == @user.id %>
          <p class="mt-2 text-sm text-slate-400"><%= @user.email %></p>
        <% end %>
      </div>

      <div class="flex gap-3">
        <div class="rounded-2xl border border-white/10 bg-black/20 px-4 py-3">
          <div class="text-xs text-slate-400">Bundles</div>
          <div class="mt-1 text-lg font-semibold text-white"><%= @total_bundles %></div>
        </div>
        <div class="rounded-2xl border border-white/10 bg-black/20 px-4 py-3">
          <div class="text-xs text-slate-400">Bundles sold</div>
          <div class="mt-1 text-lg font-semibold text-white"><%= @total_bundles_sold %></div>
        </div>
      </div>
    </div>

    <div class="mt-6 h-px w-full bg-gradient-to-r from-fuchsia-500/40 via-pink-500/20 to-cyan-400/30"></div>

    <p class="mt-6 text-sm text-slate-300">
      Explore all bundles created by this seller. Unlock to view full prompt content.
    </p>
  </div>
</section>

<section>
  <div class="mb-4 flex items-center justify-between">
    <h2 class="text-sm font-semibold tracking-wide text-white">Bundles</h2>
    <span class="text-xs text-slate-400"><%= @bundles.size %> total</span>
  </div>

  <% if @bundles.empty? %>
    <div class="rounded-2xl border border-white/10 bg-white/[0.04] p-6 shadow-[0_0_0_1px_rgba(255,255,255,0.03)] backdrop-blur">
      <p class="text-sm text-slate-300">No bundles yet.</p>
    </div>
  <% else %>
    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3">
      <% @bundles.each do |bundle| %>
        <% owner = logged_in? && current_user.id == bundle.user_id %>
        <% unlocked = owner || (@purchased_bundle_ids.include?(bundle.id)) %>
        <%= render "shared/bundle_card", bundle:, unlocked:, owner: %>
      <% end %>
    </div>
  <% end %>
</section>

